---
title: Basic Pentesting
published: true
---
Hey Hackers, Today's article will be a Writeup on Basic Pentesting Room on TryHackme. 
This Room is Free and Anyone can join. Plus, This Room is amazing if you want to get 
your hands dirty for the first time in the field of Hacking. So lets Get Started

<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/LOGO.png"/>
</p>
According to the room, it is described as where the hacker will practice their skills in web and privilige escalation.
So let's get Hacking :)


**TASK 1: Deploy The machine and connect to our network**

After Deploying the machine, The room will assign you an IP address to connect on. You also would require to have openvpn connection in order to connect to the server
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/1.Find_the_services.png"/>
</p>

**TASK 2: Find the services exposed by the machine**

After we have been assigned an IP address, let run nmap in order to find the network services it is running and what OS it is. I typically use the following nmap script

```nmap -A -T5 --script vuln 10.10.89.26 -vv```
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/2.NMAP_SCAN.png"/>
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/3.OPEN_PORTS.png"/>
</p>

From the First Screenshot, we saw the following ports were opened: -
1. 22
1. 80
1. 8080
1. 139
1. 445

**TASK 3: What is the name of the hidden directory on the web-server?**

Looking at the nmap result, port 80 seems to be open.Opening the IP address in the browser, we see that the website is under maintenance. Nothing interesting here. 
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/6.Website_index.html.png"/>
</p>

Lets directory brute-force the website to see what directories it consists of i.e. in order to find interesting files and folders.                       
```python3 ~/tools/dirsearch/dirsearch.py -u http://10.10.89.26/ -e html,js,php,aspx,asp,txt,ini,db```
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/4.%20BRUTE_FORCING_DIRECTORIES.png"/>
</p>
From the screenshot above, we found an interesting folder called development. Congratulations you found the hidden directory. 
Inside the development folder, there are two files hosted in the directory. They are: -
1. dev.txt
2. j.txt
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/7.Development_page.png"/>
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/8.dev.png"/>
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/9.j.png"/>
</p>
By reading the dev.txt and j.txt file. We can assume the following information that would help us exploiting this machine. That is: -
1. there are two users j and k
2. samba is configured 
3. J has a weak password policy

Now lets enumerate samba by running the following script         
```enum4linux -a 10.10.89.26```        
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/10.samba.png"/>
</p>

Looking at the screenshot, we can safely enter the samba shares with the default username anonymous. The command for entering into smb shares is       
```smbclient //10.10.89.26/anonymous```        
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/11.connect_anonymous.png"/>
</p>

Hmmmm...There is an interesting file called staff hosted. Lets download it into our local machine and see what it consists of. In order to download the file, we used the following command     
```smbget -R smb://10.10.89.26/anonymous```        
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/12.Downloading_file.png"/>
</p>      
Lets fetch the contents of the file and see what's inside. We used the following command to read the data of the file      
```cat staff.txt```    
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/13.Fetched_usernames.png"/>
</p>

**TASK 4: User brute-forcing to find the username & password**     
By reading the staff.txt file, we found the two usernames kay and Jan. From our task 3, we did know that jan has a weak password policy. Lets brute-force his account first        
```hydra -t4 -l jan -P /usr/share/wordlists/rockyou.txt 10.10.89.26 ssh```    
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/14.BRUTE_FORCE_PASSWORD.png"/>
</p>

**TASK 5 & 6: What is the username and password?**      
From the screenshot above, we found the password for jan. We can now use his credentials in order to enter his account. Lets fill the answers of each task
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/16.QUESTIONS.png"/>
</p>

**TASK 7: What service do you use to access the server(answer in abbreviation in all caps)?**     
Lets use his password in order to connect using ssh since port 22 is open. The command for enter through ssh is        
```ssh jan@10.10.89.26```       
As you can from the screenshot we have successfully entered into jan account     
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/15.SSH.png"/>
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/16.QUESTIONS.png" />
</p>

**TASK 8: Enumerate the machine to find any vectors for privilege escalation**    
After we have successfully logged into the the jan account. We will enumerate and find what files it has or any possible vectors for privilige escalation. 
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/17.Found_id_rsa.png"/>
</p>
From the screenshot above, we found .ssh file with access to a user called kay. It also shows that kay is the root user (**Task 9 Answer**)

**TASK 9: What is the name of the other user?**
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/question_image.png"/>
</p>

**TASK 10: If you found another user, what can you do with it?**   
Since we know that the other user's name is kay and has root priviliges plus there is also an ssh file of possibility containg ssh keys. Lets see what does the file contain by using the ```ls -al``` command
<p align="center">
  <img src="https://raw.githubusercontent.com/Saad-20/Blog/master/assets/Basic_Pentesting_Images/17.Found_id_rsa.png"/>
</p>

**TASK 11: What is the final password you obtained?**
